<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <script src="webjars/superagent/1.4.0/superagent.min.js"></script>
    </head>
    <body>
        <p><a href="app/download" download="sample.txt">Download</a></p>

        <p><button onclick="downloadAsync()">Download(Async)</button>
        <script>
function downloadAsync() {
    var es = new EventSource('app/download/async/prepare');
    es.addEventListener('id', function (event) {
        location.href = 'app/download/async/' + event.data;
        es.close();
    });
}
        </script>
    </body>
</html>
